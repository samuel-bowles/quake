<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quake</title>

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Fonts -->
    <!-- <link href="http://fonts.cdnfonts.com/css/quake-dpquake" rel="stylesheet"> -->

    <!-- JavaScript -->
    <script src="assets/js/objects.js"></script>
    <script src="assets/js/mainMenu.js"></script>
    <script src="assets/js/singlePlayer.js"></script>
    <script src="assets/js/newGame.js"></script>
    <script src="assets/js/levelSelect.js"></script>
    <script src="assets/js/loadGame.js"></script>
    <script src="assets/js/multiplayer.js"></script>
    <script src="assets/js/localPLay.js"></script>
    <script src="assets/js/changeSettingsCooperative.js"></script>
    <script src="assets/js/changeSettingsDeathmatch.js"></script>
    <script src="assets/js/changeSettingsHorde.js"></script>
    <script src="assets/js/options.js"></script>
    <script src="assets/js/optionsInput.js"></script>
    <script src="assets/js/optionsGameplay.js"></script>
    <script src="assets/js/optionsMultiplayer.js"></script>
    <script src="assets/js/optionsSound.js"></script>
    <script src="assets/js/optionsDisplay.js"></script>
    <script src="assets/js/optionsLanguage.js"></script>
    <script src="assets/js/optionsCredits.js"></script>
                
</head>
<body>
    <div class="wrapper quake-font">
        <div class="container-box">
            <div class="main-content">
                <div class="logo-container">
                    <h1 class="game-title">QUAKE</h1>
                    <p>id</p>
                </div>
                <div class="menu-screen">
                    <!-- Menu inserted by JS here -->
                </div>
            </div>
            <div class="nav">
                <p><button id="back-button">B Back</button><button id="select-button">A Select</button></p>
            </div>
        </div>
    </div>

    <script>
        // Changes the window.location.hash when a menu item is clicked
        function addOnClickHashChange(menuEl) {
            let itemList = menuEl.querySelectorAll('.menu-item')
            itemList.forEach((item) => {
                item.onclick = (ev => {
                  window.location.hash = item.id;
                })
            })
        }

        // Changes the window.location.hash when a menu dropdown changes
        function addDropDownHashChange(menuEl) {
            let modeSelect = menuEl.querySelector('#game-mode');
            window.location.hash = modeSelect.value.toLowerCase();
        }

        document.querySelector('#back-button').onclick = (e => {
            if (window.location.hash === "#main-menu") {
                return false
            } else {
                history.back();
            }
        })

        function checkHash() {
            let menuScreen = document.querySelector('.menu-screen');
            menuScreen.innerHTML= "";

            let menuLocation = window.location.hash.slice(1);
            let menu;
            switch(menuLocation) {
                case "main-menu":
                    menu = new MainMenu().render();
                    break
                case "single-player":
                    menu = new SinglePlayer().render();
                    break
                case "new-game":
                    menu = new NewGame().render();
                    break
                case "level-select":
                    menu = new LevelSelect().render();
                    break
                case "load-game":
                    menu = new LoadGame().render();
                    break
                case "multiplayer":
                    menu = new Multiplayer().render();
                    break
                case "local-play":
                    menu = new LocalPlay().render();
                    break
                case "cooperative":
                    menu = new ChangeSettingsCooperative().render();
                    break
                case "deathmatch":
                    menu = new ChangeSettingsDeathmatch().render();
                    break
                case "horde":
                    menu = new ChangeSettingsHorde().render();
                    break
                case "options":
                    menu = new Options().render();
                    break
                case "options-input":
                    menu = new OptionsInput().render();
                    break
                case "options-gameplay":
                    menu = new OptionsGameplay().render();
                    break
                case "options-multiplayer":
                    menu = new OptionsMultiplayer().render();
                    break
                case "options-sound":
                    menu = new OptionsSound().render();
                    break
                case "options-display":
                    menu = new OptionsDisplay().render();
                    break
                case "options-language":
                    menu = new OptionsLanguage().render();
                    break
                case "options-credits":
                    menu = new OptionsCredits().render();
                    break
                default:
                    return null;
            }

            menuScreen.append(menu);
        }

        window.addEventListener("hashchange", checkHash);
        
        checkHash();

        // Set initial hash so that main menu loads
        if (window.location.hash == "") {
                window.location.hash = "main-menu";
            }

    </script>
</body>
<script src="assets/js/debugcss.js"></script>
</html>